<!DOCTYPE html>

<html lang="=pt-br"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">


<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>House Market - Perfil do Anunciante</title>
    <script type="text/javascript" th:src="@{/js/jquery-3.2.0.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/jquery.autocomplete.js}"></script>

    <!-- Compiled and minified JavaScript -->
    <script type="text/javascript" th:src="@{/js/materialize.min.js}"></script>

    <!--Import materialize.css-->
    <!--<link type="text/css" rel="stylesheet" th:href="@{/css/materialize.min.css}" media="screen,projection"/>-->
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>

<body>

<div class="p-3 mb-2 bg-primary text-white">

    <div class="container-fluid">

        <ul class="nav nav-pills nav-fill">
            
            <li class="nav-item"><img src="..\images\housemarket.png" width="160px" height="60px" alt="House Market"></li>
            
            <li class="nav-item"><h1>House Market</h1></li>
            
            <li class="nav-item">
					<a href="index" class="btn btn-primary btn-lg" role="button" aria-pressed="true">Página Inicial</a>
				</li>
				
				<li class="nav-item">
					<a href="cadastro-anuncio" class="btn btn-primary btn-lg" role="button" aria-pressed="true">Anunciar</a>
				</li>
				
				<li class="nav-item" sec:authorize="isAuthenticated()">
					<a class="btn btn-primary btn-lg" role="button" aria-pressed="true" th:href="@{/perfil-anunciante}">Minha Conta</a>

				</li>
				
				<li class="nav-item" sec:authorize="isAuthenticated()">
					<a class="btn btn-primary btn-lg" role="button" aria-pressed="true" th:href="@{/logout}">Logout</a>
				</li>
				
				<li class="nav-item" sec:authorize="isAnonymous()">
					<a class="btn btn-primary btn-lg" role="button" aria-pressed="true" th:href="@{/cadastro-anunciante}">Cadastro Anunciante</a>
				</li>
				
				<li class="nav-item" sec:authorize="isAnonymous()">
                    <a class="btn btn-primary btn-lg" role="button" aria-pressed="true" th:href="@{/cadastro-cliente}">Cadastro Cliente</a>
                </li>
				
				<li class="nav-item" sec:authorize="isAnonymous()">
					<a class="btn btn-primary btn-lg" role="button" aria-pressed="true" th:href="@{/login}">Login</a>
				</li>
        </ul>
    </div>

</div>

<div class="container">
    <div th:if="${user.tipo == 0}">
        <h1>Relatórios</h1>
        <h6><em>Estes são os relatórios referentes aos seus anúncios</em></h6>
        <hr>

        <h2>Anúncios para Aluguel</h2>
        <h6><em>Consulte todos seus anúncios que estão disponíveis para ALUGUEL</em></h6>
        <a class="btn btn-outline-success" role="button" aria-pressed="true" th:href="@{/relatorio-aluguel/{tipoTemplate}(tipoTemplate='1')}">Gerar relatório de ALUGUEL</a>
        <hr>
        <h2>Anúncios para Venda</h2>
        <h6><em>Consulte todos seus anúncios que estão disponíveis para VENDA</em></h6>
        <a class="btn btn-outline-success" role="button" aria-pressed="true" th:href="@{/relatorio-venda/{tipoTemplate}(tipoTemplate='0')}">Gerar relatório de VENDA</a>

        <hr>
    </div>
    <div th:if="${user.tipo == 1}" th:object="${user}">
        <h1>Bem vindo <a th:text="${user.nome}"></a></h1>
        <hr>
    </div>

	<table class="container">
        <thead>
        <tr>
            <th><h2>Meus anúncios</h2></th>
        </tr>
        </thead>

        <tbody th:if="${page != null}">
        <tr th:each="anuncio : ${page.content}">

            <td th:text="${anuncio.titulo}"></td>
            <td>
            	<span>R$ &nbsp<a class="label" th:text="${anuncio.preco}"/></span>
            </td>
            <td th:text="${anuncio.tipo}"></td>

            <td>
                <div class="btn-group btn-group-sm pull-right">
                    <a class="btn btn-outline-secondary" th:href="@{/detalhesAnuncio/{id}(id=${anuncio.id})}">Detalhes</a>
                    <a class="btn btn-outline-primary" th:href="@{/edit/{id}(id=${anuncio.id})}">Editar</a>
                    <a class="delete btn btn-outline-danger" th:href="@{/delete-anuncio/{id}(id=${anuncio.id})}">Excluir</a>
                </div>
            </td>
        </tr>
        </tbody>
        <tbody th:if="${anuncios != null}">
        <tr th:each="anuncio : ${anuncios}">

            <td th:text="${anuncio.titulo}"></td>
            <td>
                <span>R$ &nbsp<a class="label" th:text="${anuncio.preco}"/></span>
            </td>
            <td th:text="${anuncio.tipo}"></td>

            <td>
                <div class="btn-group btn-group-sm pull-right">
                    <a class="btn btn-outline-secondary" th:href="@{/detalhesAnuncio/{id}(id=${anuncio.id})}">Detalhes</a>
                </div>
            </td>
        </tr>
        </tbody>

    </table>


	<nav th:if="${page != null}" aria-label="Navegação de página">
		<ul class="pagination justify-content-center">
			<div class="pagination justify-content-center">
	    		<span th:if="${page.hasPrevious()}">
	        		<li class="page-item">
	        			<a class="page-link" th:href="@{/index(page=${page.number-1},size=${page.size})}">Anterior</a>
	        		</li>
	    		</span>
				
				<th:block th:each="i: ${#numbers.sequence(0, page.totalPages - 1)}">
					<span th:if="${page.number == i}" class="page-link">[[${i}+1]]</span>
					<span th:unless="${page.number == i}">
	             		<li class="page-item">
	             			<a class="page-link" th:href="@{/index(page=${i},size=${page.size})}">[[${i}+1]]</a>
	             		</li>
					</span>
				</th:block>
				
				<span th:if="${page.hasNext()}">
	        		<li class="page-item">
	        			<a class="page-link" th:href="@{/index(page=${page.number+1},size=${page.size})}">Próximo</a>
	        		</li>
	    		</span>
			</div>
		</ul>
	</nav>

</div>

<div class="p-3 mb-2 bg-primary text-white">
    <div class="container-fluid">
        <h5>House Market- Anuncie seu imóvel aqui</h5>
        <p>&copy; 2018 Copyright - Todos os direitos reservados</p>
    </div>
</div>


<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>

</html>